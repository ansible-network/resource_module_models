---
GENERATOR_VERSION: '1.0'
NETWORK_OS: sonic
RESOURCE: copp
COPYRIGHT: Copyright 2024 Dell Inc. or its subsidiaries. All Rights Reserved.
DOCUMENTATION: |
    module: sonic_copp
    version_added: "2.1.0"
    notes:
      - Tested against Enterprise SONiC Distribution by Dell Technologies.
      - Supports C(check_mode).
    short_description: Manage CoPP configuration on SONiC
    description:
      - This module provides configuration management of CoPP for devices running SONiC
    author: "Shade Talabi (@stalabi1)"
    options:
      config:
        description:
          - Specifies CoPP configurations
        type: dict
        suboptions:
          copp_groups:
            description:
              - List of CoPP entries that comprise a CoPP group
            type: list
            elements: dict
            suboptions:
              copp_name:
                description:
                  - Name of CoPP classifier
                type: str
                required: true
              trap_priority:
                description:
                  - CoPP trap priority
                type: int
              trap_action:
                description:
                  - CoPP trap action
                type: str
                choices: ['copy', 'copy_cancel', 'deny', 'drop', 'forward', 'log', 'transit', 'trap']
              queue:
                description:
                  - CoPP queue ID
                type: int
              cir:
                description:
                  - Committed information rate in bps or pps (packets per second)
                type: str
              cbs:
                description:
                  - Committed bucket size in packets or bytes
                type: str
          copp_traps:
            description:
              - List of CoPP entries that comprise a CoPP trap
            type: list
            elements: dict
            version_added: 3.1.0
            suboptions:
              name:
                description:
                  - Name of CoPP trap
                type: str
                required: true
              trap_ids:
                description:
                  - Comma separated string of trap IDs
                type: str
              trap_group:
                description:
                  - Name of CoPP group
                type: str
      state:
        description:
          - The state of the configuration after module completion
        type: str
        choices: ['merged', 'deleted', 'replaced', 'overridden']
        default: merged
EXAMPLES:
  - deleted_example_01.txt
  - merged_example_01.txt
  - overridden_example_01.txt
  - replaced_example_01.txt
