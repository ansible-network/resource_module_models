# Using deleted
#
# Before State:
# -------------
#
#sonic# show running-configuration vrf Vrf_1
#!
#ip vrf Vrf_1
#sonic# show running-configuration ip prefix-list
#!
#ip prefix-list PRF_LIST seq 1 permit 1.1.1.1/24
#ip prefix-list PRF_LIST2 seq 1 permit 1.1.1.1/24
#sonic# show running-configuration route-map
#!
#route-map RMAP permit 1
#sonic#
#sonic# show running-configuration ospf
#router ospf vrf Vrf_1
# timers throttle spf 50 10 20
# timers throttle lsa all 250
# timers lsa min-arrival 20
# redistribute bgp metric 20 metric-type 2 route-map RMAP
# area 11.11.11.11
# passive-interface Eth1/1 2.2.2.2
#!
#router ospf
# ospf router-id 10.10.10.10
# distance 20
# distance ospf external 20
# max-metric router-lsa all 1337
# max-metric router-lsa external-lsa all
# write-multiplier 20
# default-information originate always metric-type 1
# area 1.1.1.1 default-cost 20
# area 1.1.1.1 filter-list prefix PRF_LIST in
# area 2.2.2.2 authentication
# area 3.3.3.3 filter-list prefix PRF_LIST2 out
# area 2.2.2.2 virtual-link 16.16.16.16
# area 2.2.2.2 virtual-link 16.16.16.16 hello-interval 14
# area 2.2.2.2 virtual-link 16.16.16.16 retransmit-interval 15
# area 2.2.2.2 virtual-link 15.15.15.15
# area 2.2.2.2 virtual-link 15.15.15.15 dead-interval 20
# area 2.2.2.2 virtual-link 15.15.15.15 transmit-delay 15
# area 2.2.2.2 virtual-link 16.16.16.16 message-digest-key 10 md5 U2FsdGVkX19ymerugtlf7B/J4RfiZYZPqoEZYZoeYBM= encrypted
# area 2.2.2.2 virtual-link 16.16.16.16 message-digest-key 15 md5 U2FsdGVkX1/4bslR762v4mwg80LlZ9rWEt66lOxs4lw= encrypted
# area 1.1.1.1 range 1.1.1.1/24 cost 15
# area 1.1.1.1 range 2.2.2.2/12 not-advertise
# network 12.12.12.12/24 area 2.2.2.2
# network 12.12.12.12/24 area 3.3.3.3
#!
#sonic#

  - name: Delete the OSPFv2 configurations
    sonic_ospf:
      config:
        - vrf_name: 'default'
          area:
            - area_id: "1.1.1.1"
              range:
                - address_prefix: "1.1.1.1/24"
                  metric: 15
              filter_list_in: PRF_LIST
            - area_id: "2.2.2.2"
              authentication: "text"
              virtual_links:
                - remote_router_id: "15.15.15.15"
                  transmit_delay: 15
                - remote_router_id: "16.16.16.16"
                  retransmit_interval: 15
                  md_authentication:
                    - authentication_key_id: 10
          network:
            - address_prefix: "12.12.12.12/24"
              area_id: "2.2.2.2"
          default_information:
            originate: True
            metric_type: 1
          max_metric:
            router_lsa_all:
              enable: True
              max_metric_value: 1337
          write_multiplier: 20
        - vrf_name: "Vrf_1"
          timers:
            throttle_spf:
              delay_time: 10
              initial_hold_time: 20
              maximum_hold_time: 50
          redistribute:
            protocol: "bgp"
            metric: 20
            route_map: "RMAP"
          passive_interface:
            interfaces:
              - interface: "Eth1/1"
                non-passive: False
                addresses:
                  - address: "2.2.2.2"
      state: deleted

# After State:
# ------------
#
#sonic# show running-configuration ospf
#router ospf vrf Vrf_1
# timers throttle lsa all 250
# timers lsa min-arrival 20
# area 11.11.11.11
#!
#router ospf
# ospf router-id 10.10.10.10
# distance 20
# distance ospf external 20
# max-metric router-lsa external-lsa all
# default-information originate always
# area 2.2.2.2
# area 1.1.1.1 default-cost 20
# area 3.3.3.3 filter-list prefix PRF_LIST2 out
# area 2.2.2.2 virtual-link 16.16.16.16
# area 2.2.2.2 virtual-link 16.16.16.16 hello-interval 14
# area 2.2.2.2 virtual-link 15.15.15.15
# area 2.2.2.2 virtual-link 15.15.15.15 dead-interval 20
# area 2.2.2.2 virtual-link 16.16.16.16 message-digest-key 15 md5 U2FsdGVkX1/4bslR762v4mwg80LlZ9rWEt66lOxs4lw= encrypted
# area 1.1.1.1 range 2.2.2.2/12 not-advertise
# network 12.12.12.12/24 area 3.3.3.3
#!
#sonic#
