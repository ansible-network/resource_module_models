NETWORK_OS: sonic
RESOURCE: sFlow
ANSIBLE_METADATA: |
    {
        'metadata_version': '1.1',
        'status': ['preview'],
        'supported_by': 'community'
    }
COPYRIGHT: Copyright 2023 Dell Inc. or its subsidiaries. All Rights Reserved
DOCUMENTATION: |
  module: sFlow
  description: This module provides configuration for sFlow sampling on devices running SONiC 
  version_added: "2.10"
  short_description: configure sFlow settings on SONiC
  author: "Xiao Han @Xiao_Han2"
  options:
    config:
      description:
        - Defines configuration and operational state data related to data plane traffic sampling based on sFlow.
      type: dict
      suboptions:
        enabled:
          type: bool
          default: false
          description: Enables or disables sFlow sampling for the device.
        polling_interval:
          type: int
          description: 
            - sFlow polling interval.
            - must be 0 or in range 5-300
        agent: 
          type: str
          description: The Agent interface 
        collectors:
          description: Configuration data for sFlow collectors.
          type: list
          elements: dict
          suboptions:
            address:
              type: str
              description: IP address of the sFlow collector.
              required: true
            port:
              type: int
              description: UDP port number for the sFlow collector.
              default: 6343
            network_instance:
              type: str
              description: Reference to the network instance used to reach the sFlow collector
              default: "default"
        interfaces:
          description: Configuration data for sFlow data on interfaces.
          type: list
          elements: dict
          suboptions:
            name:
              type: str
              description: Reference to the interface
            enabled:
              type: bool
              description: If sFlow is globally enabled, enables or disables sFlow on the interface
            sampling_rate:
              type: int
              description: Override the global sampling rate for this interface
    state:
      description:
      - The state the configuration should be left in
      type: str
      choices:
      - merged
      - replaced
      - overridden
      - deleted
      default: merged

EXAMPLES: [deleted_examples.txt, merged_examples.txt, overridden_examples.txt, replaced_examples.txt]
