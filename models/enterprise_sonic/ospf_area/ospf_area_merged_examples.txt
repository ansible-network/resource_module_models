# using merged to add or change ospf_area settings
    # merging all settings for an area
    # Before state:
    # sonic(config-router-ospf)# show configuration
    # !
    # router ospf vrf Vrf2
    # sonic(config-router-ospf)# show configuration
    # !
    # router ospf vrf Vrf1

    # example:
      - name: merge examples of all settings
        sonic_ospf_area:
          state: merged
          config:
          - area_id: 1
            vrf_name: Vrf1
          - area_id: 2
            vrf_name: Vrf1
            authentication_type: message_digest
            default_cost: 3
            stub:
              enabled: True
              no_summary: True
            shortcut: default
          - area_id: 3
            vrf_name: Vrf1
            filter_list_in: pf1
            filter_list_out: pf2
            ranges:
            - prefix: 1.1.1.1/24
            - prefix: 1.1.1.2/24
              advertise: True
              cost: 4
            - prefix: 1.1.1.3/24
              advertise: False
              substitute: 2.2.2.2/24
            - prefix: 1.1.1.4/24
              advertise: True
              cost: 10
              substitute: 3.3.3.3/24
          - area_id: 4
            vrf_name: Vrf1
            networks:
            - 1.1.1.1/24
            - 3.5.1.5/23
            - 23.235.75.1/23
          - area_id: 5
            vrf_name: Vrf1
            virtual_links:
            - router_id: 34.7.35.1
            - router_id: 34.7.35.2
              enabled: True
              dead_interval: 10
              hello_interval: 30
              retransmit_interval: 40
              transmit_delay: 50
              authentication:
                auth_type: text
                key: "U2FsdGVkX197YJtZ/3Ac6n5kRIG/ZqeU1/wC0cVFyfU="
                key_encrypted: True
              message_digest_keys:
              - key_id: 1
                key: "U2FsdGVkX1/wbqjMB7Lr+Mm3wY8+lCdaqUmG2rr9Adw="
                key_encrypted: True
              - key_id: 2
                key: "U2FsdGVkX18Czj9r8skDrg/wtpwTKKCQ8FXUehpCmHc="
                key_encrypted: True
          - area_id: 6
            vrf_name: Vrf2

    # After state
    # onic(config-router-ospf)# show configuration
    #
    # outer ospf vrf Vrf1
    # area 0.0.0.1
    # area 0.0.0.2 authentication message-digest
    # area 0.0.0.2 stub no-summary
    # area 0.0.0.2 default-cost 3
    # area 0.0.0.2 shortcut default
    # area 0.0.0.3 filter-list prefix pf1 in
    # area 0.0.0.3 filter-list prefix pf2 out
    # area 0.0.0.4
    # area 0.0.0.5
    # area 0.0.0.5 virtual-link 34.7.35.1
    # area 0.0.0.5 virtual-link 34.7.35.2
    # area 0.0.0.5 virtual-link 34.7.35.2 authentication
    # area 0.0.0.5 virtual-link 34.7.35.2 authentication-key U2FsdGVkX197YJtZ/3Ac6n5kRIG/ZqeU1/wC0cVFyfU= encrypted
    # area 0.0.0.5 virtual-link 34.7.35.2 dead-interval 10
    # area 0.0.0.5 virtual-link 34.7.35.2 hello-interval 30
    # area 0.0.0.5 virtual-link 34.7.35.2 retransmit-interval 40
    # area 0.0.0.5 virtual-link 34.7.35.2 transmit-delay 50
    # area 0.0.0.5 virtual-link 34.7.35.2 message-digest-key 1 md5 U2FsdGVkX1/wbqjMB7Lr+Mm3wY8+lCdaqUmG2rr9Adw= encrypted
    # area 0.0.0.5 virtual-link 34.7.35.2 message-digest-key 2 md5 U2FsdGVkX18Czj9r8skDrg/wtpwTKKCQ8FXUehpCmHc= encrypted
    # area 0.0.0.3 range 1.1.1.1/24
    # area 0.0.0.3 range 1.1.1.2/24 advertise cost 4
    # area 0.0.0.3 range 1.1.1.3/24 not-advertise
    # area 0.0.0.3 range 1.1.1.4/24 advertise cost 10
    # area 0.0.0.3 range 1.1.1.4/24 substitute 3.3.3.3/24
    # network 1.1.1.1/24 area 0.0.0.4
    # network 23.235.75.1/23 area 0.0.0.4
    # network 3.5.1.5/23 area 0.0.0.4
    # sonic(config-router-ospf)# show configuration
    # !
    # router ospf vrf Vrf2
    #  area 0.0.0.6
    # -----

    # minimums to add config
    # Before state:
    # sonic(config-router-ospf)# show configuration
    # !
    # router ospf vrf Vrf2
    # sonic(config-router-ospf)# show configuration
    # !
    # router ospf vrf Vrf1

    # example:
      - name: merge smallest group of settings
        sonic_ospf_area:
          state: merged
          config:
          - area_id: 0.0.0.1
            vrf_name: Vrf1
          - area_id: 0.0.0.2
            vrf_name: Vrf1
            networks:
            - 1.1.1.1/24
          - area_id: 0.0.0.3
            vrf_name: Vrf1
            ranges:
            - prefix: 1.1.1.1/24
          - area_id: 0.0.0.4
            vrf_name: Vrf1
            virtual_links:
            - router_id: 34.7.35.1
          - area_id: 0.0.0.5
            vrf_name: Vrf1
            virtual_links:
            - router_id: 34.7.35.1
              message_digest_keys:
              - key_id: 1
                key: grighr
    # note areas only show up in ansible facts return if there's other settings to prevent errors

    # After state
    # sonic(config-router-ospf)# show configuration
    # !
    # router ospf vrf Vrf1
    #  area 0.0.0.1
    #  area 0.0.0.2
    #  area 0.0.0.3
    #  area 0.0.0.4
    #  area 0.0.0.5
    #  area 0.0.0.4 virtual-link 34.7.35.1
    #  area 0.0.0.5 virtual-link 34.7.35.1
    #  area 0.0.0.5 virtual-link 34.7.35.1 message-digest-key 1 md5 U2FsdGVkX18A3ceUjctexfOFXdDNLlWmgbQKDHpO2kk= encrypted
    #  area 0.0.0.3 range 1.1.1.1/24
    #  network 1.1.1.1/24 area 0.0.0.2
    # -----

    # merging and making changes to attributes
    # Before state:
    # sonic(config-router-ospf)# show configuration
    # !
    # router ospf vrf Vrf1
    #  area 0.0.0.1 authentication message-digest
    #  area 0.0.0.1 stub no-summary
    #  area 0.0.0.1 default-cost 6
    #  area 0.0.0.1 filter-list prefix pf1 in
    #  area 0.0.0.1 filter-list prefix pf2 out
    #  area 0.0.0.1 shortcut disable
    #  area 0.0.0.1 virtual-link 1.1.1.1
    #  area 0.0.0.1 virtual-link 1.1.1.1 authentication
    #  area 0.0.0.1 virtual-link 1.1.1.1 authentication-key U2FsdGVkX1+ewVE5+npqP99NPAF0gHU3TZ5lLx/EqOM= encrypted
    #  area 0.0.0.1 virtual-link 1.1.1.1 dead-interval 10
    #  area 0.0.0.1 virtual-link 1.1.1.1 hello-interval 10
    #  area 0.0.0.1 virtual-link 1.1.1.1 retransmit-interval 10
    #  area 0.0.0.1 virtual-link 1.1.1.1 transmit-delay 10
    #  area 0.0.0.1 virtual-link 1.1.1.2
    #  area 0.0.0.1 virtual-link 1.1.1.2 dead-interval 34
    #  area 0.0.0.1 virtual-link 1.1.1.1 message-digest-key 1 md5 U2FsdGVkX1+/Bwvi/FO6vbDClI3PPbSxZAgvAB2Mz2k= encrypted
    #  area 0.0.0.1 virtual-link 1.1.1.1 message-digest-key 2 md5 U2FsdGVkX18gVkebG/p0IbbrpVZUtsoq+R36CUYk920= encrypted
    #  area 0.0.0.1 range 1.1.1.1/24 not-advertise
    #  area 0.0.0.1 range 1.1.1.2/24 advertise
    #  network 1.1.1.1/24 area 0.0.0.1
    #  network 1.1.1.2/24 area 0.0.0.1

    # example:
      - name: "test merge all settings"
        sonic_ospf_area:
          state: merged
          config:
          - area_id: 0.0.0.1
            vrf_name: Vrf1
            authentication_type: text
            default_cost: 5
            filter_list_in: pf2
            filter_list_out: pf1
            networks:
            - 1.1.1.5/24
            ranges:
            - prefix: 1.1.1.1/24
              advertise: True
              cost: 12
              substitute: 11.11.1.1/24
            - prefix: 1.1.1.2/24
              advertise: False
            shortcut: enable
            stub:
              enabled: True
              no_summary: False
            virtual_links:
            - router_id: 1.1.1.1
              enabled: True
              dead_interval: 45
              hello_interval: 21
              retransmit_interval: 15
              transmit_delay: 23
              authentication:
                auth_type: text
                key: "U2FsdGVkX18tAKGLRRym9KllJIgcH2GwPBbqIudWQx8="
                key_encrypted: True
              message_digest_keys:
              - key_id: 1
                key: "somepass"
            - router_id: 1.1.1.2
              dead_interval: 16

    # After state
    # sonic(config-router-ospf)# show configuration
    # !
    # router ospf vrf Vrf1
    #  area 0.0.0.1 authentication
    #  area 0.0.0.1 stub
    #  area 0.0.0.1 default-cost 5
    #  area 0.0.0.1 filter-list prefix pf2 in
    #  area 0.0.0.1 filter-list prefix pf1 out
    #  area 0.0.0.1 shortcut enable
    #  area 0.0.0.1 virtual-link 1.1.1.1
    #  area 0.0.0.1 virtual-link 1.1.1.1 authentication
    #  area 0.0.0.1 virtual-link 1.1.1.1 authentication-key U2FsdGVkX18tAKGLRRym9KllJIgcH2GwPBbqIudWQx8= encrypted
    #  area 0.0.0.1 virtual-link 1.1.1.1 dead-interval 45
    #  area 0.0.0.1 virtual-link 1.1.1.1 hello-interval 21
    #  area 0.0.0.1 virtual-link 1.1.1.1 retransmit-interval 15
    #  area 0.0.0.1 virtual-link 1.1.1.1 transmit-delay 23
    #  area 0.0.0.1 virtual-link 1.1.1.2
    #  area 0.0.0.1 virtual-link 1.1.1.2 dead-interval 16
    #  area 0.0.0.1 virtual-link 1.1.1.1 message-digest-key 1 md5 U2FsdGVkX1/bPJcEP0HgaVXhPwuTD5IzbQOqWW3WBzU= encrypted
    #  area 0.0.0.1 virtual-link 1.1.1.1 message-digest-key 2 md5 U2FsdGVkX18gVkebG/p0IbbrpVZUtsoq+R36CUYk920= encrypted
    #  area 0.0.0.1 range 1.1.1.1/24 advertise cost 12
    #  area 0.0.0.1 range 1.1.1.1/24 substitute 11.11.1.1/24
    #  area 0.0.0.1 range 1.1.1.2/24 not-advertise
    #  network 1.1.1.1/24 area 0.0.0.1
    #  network 1.1.1.2/24 area 0.0.0.1
    #  network 1.1.1.5/24 area 0.0.0.1
    # -----
# ----------