---
GENERATOR_VERSION: '1.0'
ANSIBLE_METADATA: |
    {
      'metadata_version': '1.1',
      'status': ['preview'],
      'supported_by': 'community',
      'license': 'Apache 2.0'
    }
NETWORK_OS: sonic
RESOURCE: loadshare_mode
COPYRIGHT: "Â© Copyright 2024 Dell Inc. or its subsidiaries. All Rights Reserved"
LICENSE: gpl-3.0.txt
DOCUMENTATION: |
  module: sonic_loadshare_mode
  version_added: "3.0.0"
  author: "M. Zhang (@mingjunzhang2019)"
  short_description: IP ECMP load share mode configuration handling for SONiC.
  description:
    - This module provides configuration management for IP ECMP load share mode on
    - devices running SONiC.
  options:
    config:
      description:
        - Specifies IP ECMP load share mode configuration.
      type: dict
      suboptions:
        hash_algorithm:
          description:
            - Load share hash algorithm.
          type: str
          choices:
            - CRC
            - XOR
            - CRC_32LO
            - CRC_32HI
            - CRC_CCITT
            - CRC_XOR
            - JENKINS_HASH_LO
            - JENKINS_HASH_HI
        hash_ingress_port:
          description:
            - Load share hash ingress port.
          type: bool
        hash_offset:
          description:
            - Load share hash offset.
          type: dict
          suboptions:
            offset:
              description:
                - IP ECMP hash offset value.
                - The range of values is from 0 to 15.
              type: int
            flow_based:
              description:
                - Enable flow-based IP ECMP hashing.
              type: bool
        hash_roce_qpn:
          description:
            - Load share ROCE Queue-Pair Number.
          type: bool
        hash_seed:
          description:
            - IP ECMP hash seed value.
            - The range of values is from 0 to 16777215.
          type: int
        ipv4:
          description:
            - IPv4 ECMP Load share hash parameters.
          type: dict
          suboptions:
            ipv4_dst_ip:
              description:
                - IPv4 destination IP address.
              type: bool
            ipv4_src_ip:
              description:
                - IPv4 source IP address.
              type: bool
            ipv4_ip_proto:
              description:
                - IPv4 protocol.
              type: bool
            ipv4_l4_dst_port:
              description:
                - IPv4 L4 destination port.
              type: bool
            ipv4_l4_src_port:
              description:
                - IPv4 L4 source port.
              type: bool
            ipv4_symmetric:
              description:
                - IPv4 symmetric hash mode.
              type: bool
        ipv6:
          description:
            - IPv6 ECMP Load share hash parameters.
          type: dict
          suboptions:
            ipv6_dst_ip:
              description:
                - IPv6 destination IP address.
              type: bool
            ipv6_src_ip:
              description:
                - IPv6 source IP address.
              type: bool
            ipv6_next_hdr:
              description:
                - IPv6 protocol.
              type: bool
            ipv6_l4_dst_port:
              description:
                - IPv6 L4 destination port.
              type: bool
            ipv6_l4_src_port:
              description:
                - IPv6 L4 source port.
              type: bool
            ipv6_symmetric:
              description:
                - IPv6 symmetric hash mode.
              type: bool
    state:
      description:
        - Specifies the operation to be performed on the load share mode configured on the device.
        - In case of merged, the input configuration will be merged with the existing load share mode on the device.
        - In case of deleted, the existing load share mode configuration will be removed from the device.
        - In case of overridden, all existing load share mode will be deleted and
        - the specified input configuration will be add.
        - In case of replaced, the existing load share mode on the device will be replaced
        - by the configuration for each mirroring.
      type: str
      choices:
        - merged
        - deleted
        - replaced
        - overridden
      default: merged

EXAMPLES:
  - deleted_example_01.txt
  - merged_example_01.txt
  - replaced_example_01.txt
  - overridden_example_01.txt
