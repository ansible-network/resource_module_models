module: sonic_dhcp_snooping
version_added: 1.0.0
notes:
  - "Tested against Enterprise SONiC Distribution by Dell Technologies."
short_description: "Manage DHCP Snooping on SONiC"
description: "This module provides configuration management of DHCP snooping for devices running SONiC."
author: Simon Nathans (@simon-nathans)
options:
  config:
    description: The DHCP snooping configuration.
    type: dict
    suboptions:
      ipv4:
        description:
          - Configure DHCPv4 snooping.
        type: dict
        suboptions:
          enabled:
            description:
              - Enable or disable DHCPv4 snooping globally.
            type: bool
          vlans:
            description:
              - Configure DHCPv4 snooping on a VLAN or range of VLANs.
            type: list
            elements: dict
            suboptions:
              vlan_id:
                description:
                  - VLAN ID or range of VLAN IDs.
                type: str
                required: true
              enabled:
                description:
                  - Enable or disable DHCPv4 snooping on a VLAN or range of VLANs.
                type: bool
          verify_mac:
            description:
              - Enable or disable DHCPv4 snooping MAC verification.
            type: bool
          source_binding:
            description:
              - Configure DHCPv4 snooping binding entries.
            type: list
            elements: dict
            suboptions:
              interface_name:
                description:
                  - Create an entry in the DHCPv4 snooping binding database.
                  - Can be either an Ethernet or PortChannel interface.
                type: str
                required: true
              ip_address:
                description:
                  - The IP address for the binding.
                type: str
              mac_address:
                description:
                  - The MAC address for the binding.
                type: str
              vlan:
                description:
                  - The VLAN ID for the binding.
                type: int
      ipv6:
        description:
          - Configure DHCPv6 snooping.
        type: dict
        suboptions:
          enabled:
            description:
              - Enable or disable DHCPv6 snooping globally.
            type: bool
          vlans:
            description:
              - Configure DHCPv6 snooping on a VLAN or range of VLANs.
            type: list
            elements: dict
            suboptions:
              vlan_id:
                description:
                  - VLAN ID or range of VLAN IDs.
                type: str
                required: true
              enabled:
                description:
                  - Enable or disable DHCPv6 snooping on a VLAN or range of VLANs.
                type: bool
          verify_mac:
            description:
              - Enable or disable DHCPv6 snooping MAC verification.
            type: bool
          source_binding:
            description:
              - Configure DHCPv6 snooping binding entries.
            type: list
            elements: dict
            suboptions:
              interface_name:
                description:
                  - Create an entry in the DHCPv6 snooping binding database.
                  - Can be either an Ethernet or PortChannel interface.
                type: str
                required: true
              ip_address:
                description:
                  - The IP address for the binding.
                type: str
              mac_address:
                description:
                  - The MAC address for the binding.
                type: str
              vlan:
                description:
                  - The VLAN ID for the binding.
                type: int
      interfaces:
        description:
          - Configure DHCP snooping on the interface level.
        type: list
        elements: dict
        suboptions:
          intf_type:
            description:
              - The type of interface. Can be Ethernet or PortChannel.
            type: str
            choices: [Ethernet, PortChannel]
            required: true
          intf_number:
            description:
              - Interface number.
              - If Ethernet, must be single number; if PortChannel, can be range.
            type: str
            required: true
          ipv4:
            description:
              - Configure DHCPv4 snooping for the interface(s).
            type: dict
            suboptions:
              enabled:
                description:
                  - Enable or disable DHCPv4 snooping for the interface(s).
                type: bool
              trust:
                description:
                  - Mark Trust mode for DHCPv4 snooping on the interface(s).
                type: bool
          ipv6:
            description:
              - Configure DHCPv6 snooping for the interface(s).
            type: dict
            suboptions:
              enabled:
                description:
                  - Enable or disable DHCPv6 snooping for the interface(s).
                type: bool
              trust:
                description:
                  - Mark Trust mode for DHCPv6 snooping on the interface(s).
                type: bool
  state:
    description:
      - The state of the configuration after module completion.
    default: merged
    choices: ["merged", "deleted", "overridden", "replaced"]
    type: str
